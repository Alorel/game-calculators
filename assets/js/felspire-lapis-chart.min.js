(function(p){var o=[0,2,2,4,8,14,30,40,50,70,90],f=[[0,0],[2,3],[2,2],[4,5],[8,12],[14,23],[30,35],[40,50],[50,70],[70,90],[90,110]],l=$("#slots"),n=["Head","Body","Legs","Feet","Arms"],r={Head:31,Body:52,Legs:31,Feet:15,Arms:15};for(var g=0;g<n.length;g++){var k=$("<tr data-slot='"+n[g]+"'/>"),s=$('<select data-id="lapis_curr" data-cfg="lapis_curr_'+n[g]+'"/>'),a=$('<select data-id="enhance_curr" data-cfg="enhance_curr_'+n[g]+'"/>'),d=$('<select data-id="lapis_target" data-cfg="lapis_target_'+n[g]+'"/>'),c=$('<select data-id="enhance_target" data-cfg="enhance_target_'+n[g]+'"/>');for(var e=0;e<11;e++){s.append($('<option value="'+e+'">T'+e+"</option>"));a.append($('<option value="'+e+'">+'+e+"</option>"));d.append($('<option value="'+e+'">T'+e+"</option>"));c.append($('<option value="'+e+'">+'+e+"</option>"))}k.append($("<td/>").text(n[g]),$("<td/>").append(s,a),$("<td/>").append(d,c),$('<td data-id="lapis-req"/>').text("Calculating..."),$('<td data-id="enhance-req"/>').text("Calculating..."),$('<td data-id="shard-req"/>').text("Calculating..."));l.append(k)}var b=l.find("tr"),q=$("#totals").find("th:not([colspan])"),h=function(){b.each(function(){$(this).find("select:first").change()})},m=function(){var i=0,t=0,j=0,u;b.each(function(){u=$(this);i+=p(u.find("[data-id='lapis-req']").text());t+=p(u.find("[data-id='enhance-req']").text());j+=p(u.find("[data-id='shard-req']").text())});q.filter("[data-id='total-lapis']").text(i);q.filter("[data-id='total-enh']").text(t);q.filter("[data-id='total-shards']").text(j)};l.find("select").change(function(){var u=$(this).closest("tr"),j=p(u.find("[data-id=lapis_curr]").val()),x=p(u.find("[data-id=enhance_curr]").val()),t=p(u.find("[data-id=lapis_target]").val()),w=p(u.find("[data-id=enhance_target]").val());var v=f[w][1]-f[x][1],i=f[w][0]-f[x][0];i+=o[t]-o[j];if(v<0){v=0}if(i<0){i=0}u.find("[data-id='lapis-req']").text(i);u.find("[data-id='enhance-req']").text(v);u.find("[data-id='shard-req']").text(i*r[u.attr("data-slot")]);m()});setTimeout(h,300);$("#refresh-btn").click(h)})(parseInt);