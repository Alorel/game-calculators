(function(o){var n=[[0,0],[2,3],[2,2],[4,5],[8,12],[14,23],[30,35],[40,50],[50,70],[70,90],[90,110],[120,150]],k=$("#slots"),m=["Head","Body","Legs","Feet","Arms"],q={Head:31,Body:52,Legs:31,Feet:15,Arms:15};for(var f=0;f<m.length;f++){var h=$("<tr data-slot='"+m[f]+"'/>"),r=$('<select data-id="lapis_curr" data-cfg="lapis_curr_'+m[f]+'"/>'),a=$('<select data-id="enhance_curr" data-cfg="enhance_curr_'+m[f]+'"/>'),d=$('<select data-id="lapis_target" data-cfg="lapis_target_'+m[f]+'"/>'),c=$('<select data-id="enhance_target" data-cfg="enhance_target_'+m[f]+'"/>');for(var e=0;e<n.length;e++){r.append($('<option value="'+e+'">T'+e+"</option>"));a.append($('<option value="'+e+'">+'+e+"</option>"));d.append($('<option value="'+e+'">T'+e+"</option>"));c.append($('<option value="'+e+'">+'+e+"</option>"))}h.append($("<td/>").text(m[f]),$("<td/>").append(r,a),$("<td/>").append(d,c),$('<td data-id="lapis-req"/>').text("Calculating..."),$('<td data-id="enhance-req"/>').text("Calculating..."),$('<td data-id="shard-req"/>').text("Calculating..."));k.append(h)}var b=k.find("tr"),p=$("#totals").find("th:not([colspan])"),g=function(){b.each(function(){$(this).find("select:first").change()})},l=function(){var i=0,s=0,j=0,t;b.each(function(){t=$(this);i+=o(t.find("[data-id='lapis-req']").text());s+=o(t.find("[data-id='enhance-req']").text());j+=o(t.find("[data-id='shard-req']").text())});p.filter("[data-id='total-lapis']").text(i);p.filter("[data-id='total-enh']").text(s);p.filter("[data-id='total-shards']").text(j)};k.find("select").change(function(){var v=$(this).closest("tr"),t=o(v.find("[data-id=lapis_curr]").val()),y=o(v.find("[data-id=enhance_curr]").val()),u=o(v.find("[data-id=lapis_target]").val()),x=o(v.find("[data-id=enhance_target]").val()),w=0,s=0;for(var j=y+1;j<=x;j++){w+=n[j][1];s+=n[j][0]}for(j=t+1;j<=u;j++){s+=n[j][0]}if(w<0){w=0}if(s<0){s=0}v.find("[data-id='lapis-req']").text(s);v.find("[data-id='enhance-req']").text(w);v.find("[data-id='shard-req']").text(s*q[v.attr("data-slot")]);l()});setTimeout(g,300);$("#refresh-btn").click(g)})(parseInt);