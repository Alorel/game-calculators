(function(){function a(b){return +(Math.round(b+"e+2")+"e-2")}Number.prototype.format=function(){var e=this,d=e<0?"-":"",c=parseInt(e=Math.abs(+this||0).toFixed(0))+"",b=c.length;b=b>3?b%3:0;return d+(b?c.substr(0,b)+",":"")+c.substr(b).replace(/(\d{3})(?=\d)/g,"$1,")};(function(){$("[data-tooltip]").tooltip({container:"body",html:true});$(".nav-tabs [data-toggle=tab]").click(function(){location.hash=$(this).attr("href")});if(location.hash){$("a[href='"+location.hash+"']").click()}if(typeof localStorage!=="undefined"){$("[data-value-setting]").on("change keyup",function(){localStorage.setItem($(this).data("value-setting"),$(this).val())}).each(function(){var b=localStorage.getItem($(this).data("value-setting"));if(b!==null){$(this).val(b)}});$("[data-radio-setting]").change(function(){localStorage.setItem($(this).data("radio-setting"),$(this).val())}).each(function(){var b=localStorage.getItem($(this).data("radio-setting"));if(b!==null&&$(this).attr("value")===b){$(this).prop("checked",true)}});$("[data-checkbox-setting]").change(function(){localStorage.setItem($(this).data("checkbox-setting"),$(this).is(":checked")?1:0)}).each(function(){var b=localStorage.getItem($(this).data("checkbox-setting"))==1;if(b!=null){$(this).prop("checked",!!b)}})}})();(function(){var j=$("#felspire-healing-pct"),e=$("#_hpt-hpmax"),d=$("#_hpt-hpplus"),h=j.find("[name=pack]"),f=j.find("[name=no-waste]"),c=$("#_res-autodrink-L"),b=$("#_res-autodrink-M"),g=$("#_res-autodrink-S"),i=function(){var k=parseFloat(e.val()),m=parseFloat(d.val()),p=1600/100*(100+m),l=8000/100*(100+m),n=20000/100*(100+m);if(f.is(":checked")){var o=parseFloat(h.filter(":checked").val());p+=o;l+=o;n+=o}c.text(a((k-n)/k*100)+"%").attr("data-original-title",(k-n).format()+" HP");b.text(a((k-l)/k*100)+"%").attr("data-original-title",(k-l).format()+" HP");g.text(a((k-p)/k*100)+"%").attr("data-original-title",(k-p).format()+" HP")};j.find("input").on("change keyup",i);i()})();(function(){var n=$("#felspire-pet-feed"),d=n.find("[name=felsppet-reqfeed]"),h=$("#felsppet-req-exp"),j=$("#felsppet-curr-exp"),f=$("#felsppet-feed1"),e=$("#felsppet-feed2"),k=$("#felsppet-gold2"),c=$("#felsppet-feed3"),i=$("#felsppet-gold3"),b=$("#felsppet-feed4"),g=$("#felsppet-gold4"),l=$("#felsppet-gold-total"),m=function(){var o=parseInt(d.filter(":checked").val()),u=parseInt(h.val())-parseInt(j.val()),p=0,q=0,r=0,s=0;switch(o){case 80:p=Math.ceil(u/o);q=p*2;r=q*2;s=r*2;break;case 40:q=Math.ceil(u/o);r=q*2;s=r*2;break;case 20:r=Math.ceil(u/o);s=r*2;break;default:s=Math.ceil(u/o)}var w=r*150000,v=q*300000,t=p*450000;f.text(s);e.text(r);k.text(w.format());c.text(q);i.text(v.format());b.text(p);g.text(t.format());l.text((w+v+t).format())};n.find("input").on("change keyup",m);m()})()})();